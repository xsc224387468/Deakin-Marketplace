{"ast":null,"code":"import React,{useState,useRef}from'react';import{Container,Card,Row,Col,Button,Form,Modal,ListGroup}from'react-bootstrap';import{useAuth}from'../contexts/AuthContext';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE_URL=process.env.REACT_APP_API_URL;const Settings=()=>{const{currentUser,login}=useAuth();const navigate=useNavigate();// 信息修改\nconst[showPwdModal,setShowPwdModal]=useState(false);const[pwdStep,setPwdStep]=useState(1);// 1: 验证当前密码, 2: 输入新密码\nconst[currentPwd,setCurrentPwd]=useState('');const[newPwd,setNewPwd]=useState('');const[pwdError,setPwdError]=useState('');// 通知设置\nconst[chatNotify,setChatNotify]=useState(true);const[likeNotify,setLikeNotify]=useState(true);// 隐私设置\nconst[contactVisible,setContactVisible]=useState('public');const[blockedUsers,setBlockedUsers]=useState([{id:'u1',name:'Blocked User 1'},{id:'u2',name:'Blocked User 2'}]);// 头像上传\nconst[avatarFile,setAvatarFile]=useState(null);const fileInputRef=useRef();// 新增：本地编辑状态\nconst[editName,setEditName]=useState((currentUser===null||currentUser===void 0?void 0:currentUser.name)||'');const[saving,setSaving]=useState(false);const token=localStorage.getItem('token');// 模拟密码验证\nconst handlePwdVerify=()=>{// 这里假设 currentUser.password 是 '123456'，实际应调用后端接口\nif(currentPwd==='123456'){setPwdStep(2);setPwdError('');}else{setPwdError('Current password is incorrect');}};const handlePwdChange=async()=>{setPwdError('');try{await axios.post('/api/users/change-password',{oldPassword:currentPwd,newPassword:newPwd},{headers:{'Authorization':'Bearer '+token}});setShowPwdModal(false);setPwdStep(1);setCurrentPwd('');setNewPwd('');alert('Password changed!');}catch(err){var _err$response,_err$response$data;setPwdError('Password change failed: '+(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Unknown error'));}};const handleRemoveBlocked=id=>{setBlockedUsers(blockedUsers.filter(u=>u.id!==id));};// 取消按钮逻辑\nconst handleCancel=()=>{navigate('/profile');};// 保存更改逻辑（模拟，实际应调用后端）\nconst handleSave=async()=>{setSaving(true);try{const formData=new FormData();formData.append('name',editName);if(avatarFile){formData.append('avatar',avatarFile);console.log('avatarFile:',avatarFile);}const response=await axios.put(\"\".concat(API_BASE_URL,\"/api/users/profile\"),formData,{headers:{'Authorization':'Bearer '+token}});const user=response.data.user;if(!user.id&&user._id)user.id=user._id;localStorage.setItem('user',JSON.stringify(user));if(login)login(token,user);alert('Profile updated!');navigate('/profile');}catch(err){var _err$response2,_err$response2$data;alert('Failed to update profile: '+(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||err.message));}finally{setSaving(false);}};return/*#__PURE__*/_jsxs(Container,{className:\"my-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4\",children:\"Settings\"}),/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Col,{md:8,sm:12,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{as:\"h4\",className:\"mb-3\",children:\"Profile Info\"}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Avatar\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"img\",{src:avatarFile?URL.createObjectURL(avatarFile):(currentUser===null||currentUser===void 0?void 0:currentUser.profileImage)||'https://randomuser.me/api/portraits/men/32.jpg',alt:\"avatar\",style:{width:64,height:64,borderRadius:'50%',objectFit:'cover',marginBottom:8}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",ref:fileInputRef,style:{display:'none'},onChange:e=>setAvatarFile(e.target.files[0])}),/*#__PURE__*/_jsx(Button,{variant:\"outline-primary\",size:\"sm\",onClick:()=>fileInputRef.current.click(),children:\"Choose Image\"}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:10,fontSize:13,color:'#888'},children:avatarFile?avatarFile.name:'No file chosen'})]})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:editName,onChange:e=>setEditName(e.target.value)})]}),/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",className:\"mb-3\",onClick:()=>setShowPwdModal(true),children:\"Change Password\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Card.Title,{as:\"h4\",className:\"mb-3\",children:\"Notifications\"}),/*#__PURE__*/_jsxs(Form,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Check,{type:\"switch\",id:\"chat-notify\",label:\"Chat Message Notifications\",checked:chatNotify,onChange:()=>setChatNotify(v=>!v),className:\"mb-3\"}),/*#__PURE__*/_jsx(Form.Check,{type:\"switch\",id:\"like-notify\",label:\"Favorite Item Updates\",checked:likeNotify,onChange:()=>setLikeNotify(v=>!v)})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Card.Title,{as:\"h4\",className:\"mb-3\",children:\"Privacy & Security\"}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Who can see my contact info?\"}),/*#__PURE__*/_jsxs(Form.Select,{value:contactVisible,onChange:e=>setContactVisible(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"public\",children:\"Public\"}),/*#__PURE__*/_jsx(\"option\",{value:\"trader\",children:\"Only traders\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hidden\",children:\"Hidden\"})]})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Blocked Users\"}),/*#__PURE__*/_jsxs(ListGroup,{children:[blockedUsers.length===0&&/*#__PURE__*/_jsx(ListGroup.Item,{children:\"No blocked users\"}),blockedUsers.map(u=>/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"d-flex justify-content-between align-items-center\",children:[u.name,/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"outline-danger\",onClick:()=>handleRemoveBlocked(u.id),children:\"Unblock\"})]},u.id))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-end gap-3 p-3\",children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCancel,disabled:saving,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleSave,disabled:saving,children:saving?'Saving...':'Save Changes'})]})]})})}),/*#__PURE__*/_jsxs(Modal,{show:showPwdModal,onHide:()=>{setShowPwdModal(false);setPwdStep(1);setCurrentPwd('');setNewPwd('');},children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Change Password\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:pwdStep===1?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Current Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",value:currentPwd,onChange:e=>setCurrentPwd(e.target.value)}),pwdError&&/*#__PURE__*/_jsx(\"div\",{className:\"text-danger mt-2\",children:pwdError})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handlePwdVerify,children:\"Verify\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"New Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",value:newPwd,onChange:e=>setNewPwd(e.target.value)})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handlePwdChange,children:\"Change Password\"})]})})]})]});};export default Settings;","map":{"version":3,"names":["React","useState","useRef","Container","Card","Row","Col","Button","Form","Modal","ListGroup","useAuth","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE_URL","process","env","REACT_APP_API_URL","Settings","currentUser","login","navigate","showPwdModal","setShowPwdModal","pwdStep","setPwdStep","currentPwd","setCurrentPwd","newPwd","setNewPwd","pwdError","setPwdError","chatNotify","setChatNotify","likeNotify","setLikeNotify","contactVisible","setContactVisible","blockedUsers","setBlockedUsers","id","name","avatarFile","setAvatarFile","fileInputRef","editName","setEditName","saving","setSaving","token","localStorage","getItem","handlePwdVerify","handlePwdChange","post","oldPassword","newPassword","headers","alert","err","_err$response","_err$response$data","response","data","message","handleRemoveBlocked","filter","u","handleCancel","handleSave","formData","FormData","append","console","log","put","concat","user","_id","setItem","JSON","stringify","_err$response2","_err$response2$data","className","children","md","sm","Body","Title","as","Group","Label","src","URL","createObjectURL","profileImage","alt","style","width","height","borderRadius","objectFit","marginBottom","type","accept","ref","display","onChange","e","target","files","variant","size","onClick","current","click","marginLeft","fontSize","color","Control","value","Check","label","checked","v","Select","length","Item","map","disabled","show","onHide","Header","closeButton"],"sources":["/home/s224387468/Deakin-Marketplace/client/src/pages/Settings.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Container, Card, Row, Col, Button, Form, Modal, ListGroup } from 'react-bootstrap';\nimport { useAuth } from '../contexts/AuthContext';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nconst API_BASE_URL = process.env.REACT_APP_API_URL;\n\nconst Settings = () => {\n  const { currentUser, login } = useAuth();\n  const navigate = useNavigate();\n  // 信息修改\n  const [showPwdModal, setShowPwdModal] = useState(false);\n  const [pwdStep, setPwdStep] = useState(1); // 1: 验证当前密码, 2: 输入新密码\n  const [currentPwd, setCurrentPwd] = useState('');\n  const [newPwd, setNewPwd] = useState('');\n  const [pwdError, setPwdError] = useState('');\n  // 通知设置\n  const [chatNotify, setChatNotify] = useState(true);\n  const [likeNotify, setLikeNotify] = useState(true);\n  // 隐私设置\n  const [contactVisible, setContactVisible] = useState('public');\n  const [blockedUsers, setBlockedUsers] = useState([\n    { id: 'u1', name: 'Blocked User 1' },\n    { id: 'u2', name: 'Blocked User 2' }\n  ]);\n  // 头像上传\n  const [avatarFile, setAvatarFile] = useState(null);\n  const fileInputRef = useRef();\n  // 新增：本地编辑状态\n  const [editName, setEditName] = useState(currentUser?.name || '');\n  const [saving, setSaving] = useState(false);\n\n  const token = localStorage.getItem('token');\n\n  // 模拟密码验证\n  const handlePwdVerify = () => {\n    // 这里假设 currentUser.password 是 '123456'，实际应调用后端接口\n    if (currentPwd === '123456') {\n      setPwdStep(2);\n      setPwdError('');\n    } else {\n      setPwdError('Current password is incorrect');\n    }\n  };\n  const handlePwdChange = async () => {\n    setPwdError('');\n    try {\n      await axios.post('/api/users/change-password', {\n        oldPassword: currentPwd,\n        newPassword: newPwd\n      }, {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      });\n      setShowPwdModal(false);\n      setPwdStep(1);\n      setCurrentPwd('');\n      setNewPwd('');\n      alert('Password changed!');\n    } catch (err) {\n      setPwdError('Password change failed: ' + (err.response?.data?.message || 'Unknown error'));\n    }\n  };\n  const handleRemoveBlocked = (id) => {\n    setBlockedUsers(blockedUsers.filter(u => u.id !== id));\n  };\n\n  // 取消按钮逻辑\n  const handleCancel = () => {\n    navigate('/profile');\n  };\n\n  // 保存更改逻辑（模拟，实际应调用后端）\n  const handleSave = async () => {\n    setSaving(true);\n    try {\n      const formData = new FormData();\n      formData.append('name', editName);\n      if (avatarFile) {\n        formData.append('avatar', avatarFile);\n        console.log('avatarFile:', avatarFile);\n      }\n      const response = await axios.put(`${API_BASE_URL}/api/users/profile`, formData, {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      });\n      const user = response.data.user;\n      if (!user.id && user._id) user.id = user._id;\n      localStorage.setItem('user', JSON.stringify(user));\n      if (login) login(token, user);\n      alert('Profile updated!');\n      navigate('/profile');\n    } catch (err) {\n      alert('Failed to update profile: ' + (err.response?.data?.message || err.message));\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <Container className=\"my-5\">\n      <h2 className=\"mb-4\">Settings</h2>\n      <Row className=\"justify-content-center\">\n        <Col md={8} sm={12}>\n          <Card>\n            <Card.Body>\n              {/* 个人信息设置 */}\n              <Card.Title as=\"h4\" className=\"mb-3\">Profile Info</Card.Title>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Avatar</Form.Label><br/>\n                <img src={avatarFile ? URL.createObjectURL(avatarFile) : (currentUser?.profileImage || 'https://randomuser.me/api/portraits/men/32.jpg')} alt=\"avatar\" style={{width:64, height:64, borderRadius:'50%', objectFit:'cover', marginBottom:8}} />\n                <div>\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    ref={fileInputRef}\n                    style={{ display: 'none' }}\n                    onChange={e => setAvatarFile(e.target.files[0])}\n                  />\n                  <Button variant=\"outline-primary\" size=\"sm\" onClick={() => fileInputRef.current.click()}>\n                    Choose Image\n                  </Button>\n                  <span style={{ marginLeft: 10, fontSize: 13, color: '#888' }}>{avatarFile ? avatarFile.name : 'No file chosen'}</span>\n                </div>\n              </Form.Group>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Username</Form.Label>\n                <Form.Control type=\"text\" value={editName} onChange={e => setEditName(e.target.value)} />\n              </Form.Group>\n              <Button variant=\"outline-secondary\" className=\"mb-3\" onClick={()=>setShowPwdModal(true)}>Change Password</Button>\n              <hr />\n              {/* 消息通知设置 */}\n              <Card.Title as=\"h4\" className=\"mb-3\">Notifications</Card.Title>\n              <Form className=\"mb-3\">\n                <Form.Check\n                  type=\"switch\"\n                  id=\"chat-notify\"\n                  label=\"Chat Message Notifications\"\n                  checked={chatNotify}\n                  onChange={()=>setChatNotify(v=>!v)}\n                  className=\"mb-3\"\n                />\n                <Form.Check\n                  type=\"switch\"\n                  id=\"like-notify\"\n                  label=\"Favorite Item Updates\"\n                  checked={likeNotify}\n                  onChange={()=>setLikeNotify(v=>!v)}\n                />\n              </Form>\n              <hr />\n              {/* 隐私与安全设置 */}\n              <Card.Title as=\"h4\" className=\"mb-3\">Privacy & Security</Card.Title>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Who can see my contact info?</Form.Label>\n                <Form.Select value={contactVisible} onChange={e=>setContactVisible(e.target.value)}>\n                  <option value=\"public\">Public</option>\n                  <option value=\"trader\">Only traders</option>\n                  <option value=\"hidden\">Hidden</option>\n                </Form.Select>\n              </Form.Group>\n              <Form.Group>\n                <Form.Label>Blocked Users</Form.Label>\n                <ListGroup>\n                  {blockedUsers.length === 0 && <ListGroup.Item>No blocked users</ListGroup.Item>}\n                  {blockedUsers.map(u => (\n                    <ListGroup.Item key={u.id} className=\"d-flex justify-content-between align-items-center\">\n                      {u.name}\n                      <Button size=\"sm\" variant=\"outline-danger\" onClick={()=>handleRemoveBlocked(u.id)}>Unblock</Button>\n                    </ListGroup.Item>\n                  ))}\n                </ListGroup>\n              </Form.Group>\n            </Card.Body>\n            <div className=\"d-flex justify-content-end gap-3 p-3\">\n              <Button variant=\"secondary\" onClick={handleCancel} disabled={saving}>Cancel</Button>\n              <Button variant=\"primary\" onClick={handleSave} disabled={saving}>{saving ? 'Saving...' : 'Save Changes'}</Button>\n            </div>\n          </Card>\n        </Col>\n      </Row>\n      {/* 修改密码弹窗 */}\n      <Modal show={showPwdModal} onHide={()=>{setShowPwdModal(false); setPwdStep(1); setCurrentPwd(''); setNewPwd('');}}>\n        <Modal.Header closeButton>\n          <Modal.Title>Change Password</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {pwdStep === 1 ? (\n            <>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Current Password</Form.Label>\n                <Form.Control type=\"password\" value={currentPwd} onChange={e=>setCurrentPwd(e.target.value)} />\n                {pwdError && <div className=\"text-danger mt-2\">{pwdError}</div>}\n              </Form.Group>\n              <Button variant=\"primary\" onClick={handlePwdVerify}>Verify</Button>\n            </>\n          ) : (\n            <>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>New Password</Form.Label>\n                <Form.Control type=\"password\" value={newPwd} onChange={e=>setNewPwd(e.target.value)} />\n              </Form.Group>\n              <Button variant=\"primary\" onClick={handlePwdChange}>Change Password</Button>\n            </>\n          )}\n        </Modal.Body>\n      </Modal>\n    </Container>\n  );\n};\n\nexport default Settings; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}